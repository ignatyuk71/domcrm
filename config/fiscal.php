<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Податкові групи (Tax Rates)
    |--------------------------------------------------------------------------
    | Відповідність внутрішніх кодів податків до кодів Checkbox.
    | 1 - ПДВ 20% (А)
    | 2 - ПДВ 7% (Б)
    | 8 - Без ПДВ (ФОП, не платник ПДВ)
    */
    'tax_mapping' => [
        'vat_20' => 1,
        'vat_7'  => 2,
        'no_vat' => 8,
    ],

    /*
    |--------------------------------------------------------------------------
    | Типи оплат (Payment Types)
    |--------------------------------------------------------------------------
    | Відповідність методів оплати з CRM до типів Checkbox API.
    | ВАЖЛИВО: Для інтернет-еквайрингу та NovaPay використовуємо 'CASHLESS'.
    */
    'payment_mapping' => [
        'card'        => 'CASHLESS', // Було CARD, ставимо CASHLESS для безпеки
        'cash'        => 'CASH',
        'cashless'    => 'CASHLESS',
        'bonus'       => 'BONUS',
        'cod'         => 'CASHLESS', // Післяплата NovaPay - це безготівка
        'novapay_cod' => 'CASHLESS',
        'prepay'      => 'CASHLESS', // Передоплата на карту
        'default'     => 'CASHLESS',
    ],

    /*
    |--------------------------------------------------------------------------
    | Лейбли оплат (Receipt Labels)
    |--------------------------------------------------------------------------
    | Цей текст буде надруковано в чеку навпроти суми оплати.
    */
    'payment_labels' => [
        'cod'         => 'Післяплата через інтегратор NovaPay',
        'novapay_cod' => 'Післяплата через інтегратор NovaPay',
        'prepay'      => 'Передоплата (Картка)',
        'card'        => 'Оплата карткою',
        'cash'        => 'Готівка',
    ],

    /*
    |--------------------------------------------------------------------------
    | Статуси замовлень
    |--------------------------------------------------------------------------
    | ID статусів CRM для автоматичної зміни статусу замовлення.
    */
    'status_ids' => [
        'delivered'  => env('STATUS_DELIVERED_ID', 6),
        'fiscalized' => env('STATUS_FISCALIZED_ID', 11),
    ],

    // Податковий код за замовчуванням (якщо у товара не вказано)
    'default_tax_code' => 8,

    // Налаштування повторних спроб (Retries)
    'retry' => [
        'max_attempts' => 3,
        'backoff_seconds' => [10, 30, 60],
    ],

    // Ідентифікація клієнта (User-Agent)
    'client' => [
        'name' => env('CHECKBOX_CLIENT_NAME', config('app.name', 'DOM-CRM')),
        'version' => env('CHECKBOX_CLIENT_VERSION', '1.0'),
    ],
];